
== Business

////
Business Layer elements are used to model the operational organization of an enterprise in a technology-independent manner, whereas strategy elements are used to model the strategic direction and choices of the enterprise.

* *_Who_* to engage with, inform and collaborate with
* *_What_* key factors are important 
* and *_When_* to consider them

Business Considerations for this solution, which teams/resources should be included and consulted.
Who to engage with, inform, and collaborate with
What key factors are important and 
When to consider them

Determine landscape impact, Factors Flavors, Deployment types.
 
////

The Document is targeted at Consultants and End-customers who are deploying SAP Landscapes in the public cloud. Within Cloud environments there is no strict separation of responsible teams (like Network,DB,OS,Application) anymore as all can be done from a central place. But this should not make special knowledge not needed anymore. Such Teams still exist and still need to work together - best in a DevOps approach with Infrastructure-as-Code.

This mean you still need knowledge of the cloud infrastructure and there possibilities, as also details of the operating system and the tooling around like for HighAvailability. You also need to plan for the application usage and sizing.

SAP architectures needs to be fine-tuned based on the customerâ€™s requirement on system availability i.e 99.99% or 99.95% or 99.9%. So you need to identify the Single Point of Failures (SPOF) in the components and services. Such SPOF's then need to be in a HA cluster
and all other infrastructure SPOF's need to have some degree of redundancy.

If you look at a typical SAP implementation you will find

1. SAP Central Services
2. a Database (e.g. HANA)
3. a Primary Application Server (PAS)
4. and some shared storage (NFS)

where the points 1,2 and 4 are potential SPOF's.

With our automation we try to eliminate all of these single-point-of-failures by providing HA cluster implementations to ensure automated failover, data protection and higher system availability.

SAP Central Services:: You need at least 2 VMs (Virtual Machines) to configure an ASCS/ERS high availability cluster. Depending on the SAP versions, you can configure the ASCS/ERS cluster in either ENSA 1 or ENSA 2 architecture which could be automated with the SUSE HA Extension (HAE).

Database layer:: You need at least 2 VMs (Virtual Machines) to configure SAP HANA HA/DR cluster in a scale-up deployment. The SUSE High Availability Extension is used to detect system failures and facilitate automatic failover.

Depending on the services used or available from the cloud provider it could be that you need a third cluster providing a High Available NFS service.

This is one of the main topics of the solution, that we are able to create all needed infrastructure and configurations to maximize the SAP System availablity.

=== What we cover with the automation

SAP HANA and Netweaver applications can be deployed in many different scenarios and combinations between them. So we have created building blocks which are modular and reusable to attend from single install to full cluster deployment.

As of today we take care of 

* HANA single node
* HANA HA Scale-up Systemreplication 
** Performance Optimized Scenario 
*** active/passive
*** active/readonly
** Cost Optimized Scenario

* Netweaver
* Netweaver HA with Enqueue Replication Version (ENSA1)
* S/4 HANA

The solutions will get extended continuously depending on demands of customers and partners. 

The overall landscape which get deployed look like this

image::SAP_Overview.png[Instance overview,scaledwidth="80%"]

//image::SA-Business.png[title="Solution Architecture - {useCase} Business", scaledwidth=80%]

=== Prerequisites for SAP workloads in public clouds

There are a few general prerequisites to get a supported SAP Landscape in public cloud environments:

. You need to have a SAP license for the SAP software to be deployed.

. You need to know the resource requirements of your SAP workloads and have done a SAP system sizing

. You need to use certified VM instance types and know the capacity required by SAP software

. You need to provide the right network connectivity (bandwidth, latency, and package loss) within the cloud environment for your SAP workloads.

. You need certified operating systems on which the SAP workloads will be deployed.

. You should have knowledge of Linux and a of operation of SAP systems and the cloud infrastructure.

. If there should be build high available systems, there need to be deep knowledge of the HA concepts and tooling and a good knowledge what is possible in the cloud infrastructure.




=== Roles and Collaboration

FixMe - Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Massa tincidunt nunc pulvinar sapien. Hendrerit dolor magna eget est lorem. Bibendum enim facilisis gravida neque convallis a cras semper auctor. Sit amet mattis vulputate enim nulla aliquet porttitor. Semper feugiat nibh sed pulvinar proin gravida. Tincidunt lobortis feugiat vivamus at augue eget arcu dictum varius. Tincidunt nunc pulvinar sapien et ligula ullamcorper malesuada proin. Pretium quam vulputate dignissim suspendisse in. Lectus proin nibh nisl condimentum id venenatis a. Neque aliquam vestibulum morbi blandit cursus risus at ultrices mi.

=== Processes and Functions

FixMe - Egestas egestas fringilla phasellus faucibus scelerisque. Aliquet porttitor lacus luctus accumsan. Ornare arcu odio ut sem nulla pharetra diam. Interdum velit euismod in pellentesque massa. Nulla at volutpat diam ut. Volutpat sed cras ornare arcu dui vivamus arcu felis bibendum. Ut faucibus pulvinar elementum integer. Urna cursus eget nunc scelerisque. Quisque sagittis purus sit amet volutpat consequat mauris nunc. Quis varius quam quisque id diam. Pretium aenean pharetra magna ac placerat vestibulum lectus mauris ultrices. Purus faucibus ornare suspendisse sed. Placerat orci nulla pellentesque dignissim enim sit amet venenatis. Gravida neque convallis a cras semper auctor neque vitae tempus. Vel pharetra vel turpis nunc eget. Facilisis volutpat est velit egestas dui id ornare arcu odio. Aliquam vestibulum morbi blandit cursus risus at ultrices mi.

=== Factors, Flavors and Deployment Types

FixMe - Id diam maecenas ultricies mi eget mauris. Cras fermentum odio eu feugiat pretium nibh ipsum consequat. Mi sit amet mauris commodo. Quam nulla porttitor massa id neque aliquam vestibulum morbi blandit. Pretium viverra suspendisse potenti nullam ac tortor vitae purus faucibus. Diam donec adipiscing tristique risus nec feugiat in fermentum. Dui id ornare arcu odio ut sem nulla. Eu sem integer vitae justo. Elementum eu facilisis sed odio. Ut morbi tincidunt augue interdum velit euismod in pellentesque massa. Gravida neque convallis a cras semper. Tellus at urna condimentum mattis. Faucibus purus in massa tempor nec feugiat nisl pretium fusce. Ut lectus arcu bibendum at varius vel pharetra vel turpis. Velit egestas dui id ornare arcu odio ut sem. Faucibus interdum posuere lorem ipsum. In ante metus dictum at tempor commodo. Sed id semper risus in hendrerit gravida rutrum. Mauris pharetra et ultrices neque ornare aenean euismod. Sit amet tellus cras adipiscing enim eu turpis egestas pretium.

////
.Scope of Covered Factors, Flavors, and Deployment Types
[width="80%",valign="middle",halign="center",options="header"]
|===

| |
ifdef::Availability[ *_<<G_Availability,Availability>>_* |]
ifdef::Performance[ *_<<G_Performance,Performance>>_* |]
ifdef::Security[ *_<<G_Security,Security>>_* |]
ifdef::Integrity[ *_<<G_Integrity,Integrity>>_* ]

ifdef::PoC[]
| *_<<G_PoC,Proof-of-Concept>>_*
ifdef::Availability[]
^|
ifdef::DT1[ <<G_DT1,DT1>> ] 
ifdef::DT2[ <<G_DT2,DT2>> ] 
endif::Availability[]
ifdef::Performance[]
^|
ifdef::DT1[ <<G_DT1,DT1>> ] 
ifdef::DT2[ <<G_DT2,DT2>> ] 
endif::Performance[]
ifdef::Security[]
^|
ifdef::DT1[ <<G_DT1,DT1>> ] 
ifdef::DT2[ <<G_DT2,DT2>> ] 
endif::Security[]
ifdef::Integrity[]
^|
ifdef::DT1[ <<G_DT1,DT1>> ] 
ifdef::DT2[ <<G_DT2,DT2>> ] 
endif::Integrity[]
endif::PoC[]

ifdef::Production[]
|*_<<G_Production,Production>>_*
ifdef::Availability[]
^|
ifdef::DT1[ <<G_DT1,DT1>> ] 
ifdef::DT2[ <<G_DT2,DT2>> ] 
endif::Availability[]
ifdef::Performance[]
^|
ifdef::DT1[ <<G_DT1,DT1>> ] 
ifdef::DT2[ <<G_DT2,DT2>> ] 
endif::Performance[]
ifdef::Security[]
^|
ifdef::DT1[ <<G_DT1,DT1>> ] 
ifdef::DT2[ <<G_DT2,DT2>> ] 
endif::Security[]
ifdef::Integrity[]
^|
ifdef::DT1[ <<G_DT1,DT1>> ] 
ifdef::DT2[ <<G_DT2,DT2>> ] 
endif::Integrity[]
endif::Production[]

ifdef::Scaling[]
|*_<<G_Scaling,Scaling>>_*
ifdef::Availability[]
^|
ifdef::DT1[ <<G_DT1,DT1>> ] 
ifdef::DT2[ <<G_DT2,DT2>> ] 
endif::Availability[]
ifdef::Performance[]
^|
ifdef::DT1[ <<G_DT1,DT1>> ] 
ifdef::DT2[ <<G_DT2,DT2>> ] 
endif::Performance[]
ifdef::Security[]
^|
ifdef::DT1[ <<G_DT1,DT1>> ] 
ifdef::DT2[ <<G_DT2,DT2>> ] 
endif::Security[]
ifdef::Integrity[]
^|
ifdef::DT1[ <<G_DT1,DT1>> ] 
ifdef::DT2[ <<G_DT2,DT2>> ] 
endif::Integrity[]
endif::Scaling[]

|===
////

==== Factors

ifdef::Availability[]
[[B_Availability]]include::./SA-Availability.adoc[]
endif::Availability[]

ifdef::Performance[]
[[B_Performance]]include::./SA-Performance.adoc[]
endif::Performance[]

ifdef::Security[]
[[B_Security]]include::./SA-Security.adoc[]
endif::Security[]

ifdef::Integrity[]
[[B_Integrity]]include::./SA-Integrity.adoc[]
endif::Integrity[]

==== Flavors 

ifdef::PoC[]
[[B_PoC]]include::./SA-PoC.adoc[]
endif::PoC[]

ifdef::Production[]
[[B_Production]]include::./SA-Production.adoc[]
endif::Production[]

ifdef::Scaling[]
[[B_Scaling]]include::./SA-Scaling.adoc[]
endif::Scaling[]

// rename DT* to more specific ones
==== Deployment Types

ifdef::DT1[]
[[B_DT1]]include::./SA-DT1.adoc[]
endif::DT1[]

ifdef::DT2[]
[[B_DT2]]include::./SA-DT2.adoc[]
endif::DT2[]

